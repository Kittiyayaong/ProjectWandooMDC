# Module 01 - Security Policy 

## Security Policy (ë³´ì•ˆì •ì±…)? 
MDCì˜ ë³´ì•ˆ ì •ì±…ì€ í´ë¼ìš°ë“œ ë¦¬ì†ŒìŠ¤ì™€ ì›Œí¬ë¡œë“œì— ëŒ€í•œ ë³´ì•ˆ í‘œì¤€ê³¼ ê¶Œì¥ ì‚¬í•­ì„ í¬í•¨í•©ë‹ˆë‹¤. ë³´ì•ˆ ì •ì±…ì€ ê·œì¹™, ê·œì • ì¤€ìˆ˜ ì¡°ê±´, ê·¸ë¦¬ê³  ì¡°ê±´ì´ ì¶©ì¡±ë˜ì§€ ì•Šì„ ê²½ìš°ì˜ ì¡°ì¹˜(íš¨ê³¼)ë¥¼ ì •ì˜í•©ë‹ˆë‹¤. MDCëŠ” Azure êµ¬ë…, AWS ê³„ì •, ê·¸ë¦¬ê³  GCP í”„ë¡œì íŠ¸ì˜ ë¦¬ì†ŒìŠ¤ì™€ ì›Œí¬ë¡œë“œë¥¼ ì´ëŸ¬í•œ ë³´ì•ˆ í‘œì¤€ì— ë”°ë¼ í‰ê°€í•©ë‹ˆë‹¤
* ë³´ì•ˆ í‘œì¤€ì€ [Microsoft í´ë¼ìš°ë“œ ë³´ì•ˆ ë²¤ì¹˜ë§ˆí¬(MCSB)](https://learn.microsoft.com/en-us/azure/defender-for-cloud/concept-regulatory-compliance), ê·œì • ì¤€ìˆ˜ í‘œì¤€ ë° ì‚¬ìš©ì ì§€ì • í‘œì¤€ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤. 

#### ì‚¬ì „ ìš”êµ¬ ì‚¬í•­
Microsoft Defender for Cloudë¥¼ ì‹œì‘í•˜ë ¤ë©´ Microsoft Azureë¥¼ êµ¬ë…í•´ì•¼ í•©ë‹ˆë‹¤. 

---

### Lab 1: Microsoft Defender for cloud ì •ì±… ê°œìš”

1. Portal.azure.comì— ì ‘ì†í•˜ì—¬ microsoft defender for cloudë¥¼ ê²€ìƒ‰í•˜ì—¬ í´ë¦­í•©ë‹ˆë‹¤.
2. Microsoft Defender for cloudì˜ ì™¼ìª½ íƒìƒ‰ í™”ë©´ì—ì„œ **Management > Environment Settings**ì„ í´ë¦­í•©ë‹ˆë‹¤.
4. ê·¸ëŸ° ë‹¤ìŒ í•˜ë‹¨ Tenant ëª©ë¡ì—ì„œ **Subscription**ì„ ì„ íƒí•˜ê³  ì™¼ìª½ íƒìƒ‰ì—ì„œ **Security Policies**ì„ ì„ íƒí•©ë‹ˆë‹¤.

   <img width="1434" alt="image" src="https://github.com/user-attachments/assets/a6557f93-207a-41c6-9a62-7c24a85b8c34" />

5. Security policyë¡œ ì´ë™í•˜ì—¬ **Standards** íƒ­ì—ì„œ MCSB ë° ê¶Œì¥ ì‚¬í•­ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. **Type**ì€ **Default**ì…ë‹ˆë‹¤. 

ì°¸ê³ : MCSBëŠ” Microsoft Defender for Cloudì— ì˜¨ë³´ë”©í•  ë•Œ ìë™ìœ¼ë¡œ í• ë‹¹ë©ë‹ˆë‹¤(Default). ê¸°ë³¸ í• ë‹¹ì—ëŠ” ê°ì‚¬ ì •ì±…ë§Œ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ [Security policies in Defender for Cloud]([https://aka.ms/ascpolicies](https://learn.microsoft.com/en-us/azure/defender-for-cloud/security-policy-concept))ì„ ì°¸ì¡°í•˜ì„¸ìš”. MCSBëŠ” Azureë¿ë§Œ ì•„ë‹ˆë¼ ë©€í‹° í´ë¼ìš°ë“œ í™˜ê²½ì˜ ë³´ì•ˆ ê¶Œì¥ ì‚¬í•­ ë° ëª¨ë²” ì‚¬ë¡€ì˜ ê¸°ì¤€ì´ ë©ë‹ˆë‹¤. 

6.	**Microsoft Cloud Security Benchmark**ë¥¼ í´ë¦­í•©ë‹ˆë‹¤. **Effect**ê°€ **Audit**ì„ì„ í™•ì¸í•©ë‹ˆë‹¤. í´ë¼ìš°ë“œìš© Microsoft Defenderê°€ ì‚¬ìš©ì í™˜ê²½ì„ í‰ê°€í•˜ê³  ë°ì´í„°ë¥¼ ê°ì‚¬í•©ë‹ˆë‹¤. ì‚¬ìš©ìì˜ ìŠ¹ì¸ ì—†ì´ëŠ” ì ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

---

### Lab 2: Azure Policy ì‚´í´ë³´ê¸°
1.	Azure Portalì—ì„œ **Policy**ë¥¼ ê²€ìƒ‰í•œ í›„, **Authoring > Definitions**ë¥¼ í´ë¦­í•©ë‹ˆë‹¤.
2.	ê´€ë ¨ azure policyë¥¼ ëª¨ë‘ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.

<img width="1430" alt="image" src="https://github.com/user-attachments/assets/9d0340e3-9e52-4037-8c27-da6f8cdf4797" />

--- 

### Lab 3: Recommendationì— ëŒ€í•œ ë¦¬ì†ŒìŠ¤ ë©´ì œ ë§Œë“¤ê¸°
ë¦¬ì†ŒìŠ¤ ë©´ì œë¥¼ ì‚¬ìš©í•˜ë©´ íŠ¹ì • ë¦¬ì†ŒìŠ¤ë¥¼ í‰ê°€ì—ì„œ ë©´ì œí•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•˜ì—¬ ê¶Œì¥ ì‚¬í•­ì„ ë”ìš± ì„¸ë°€í•˜ê²Œ ì¡°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

> â­ Tips: <br>
> Microsoft Defender for Cloud(MDC)ì—ì„œ ì œê³µí•˜ëŠ” ì¶”ì²œ ì‚¬í•­(recommendation) ê¸°ëŠ¥ì€ í´ë¼ìš°ë“œ í™˜ê²½ì˜ ë³´ì•ˆ ìƒíƒœë¥¼ í‰ê°€í•˜ê³  ê°œì„ í•˜ê¸° ìœ„í•œ ê¶Œì¥ ì¡°ì¹˜ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì€ í´ë¼ìš°ë“œ ë¦¬ì†ŒìŠ¤ì™€ ì›Œí¬ë¡œë“œë¥¼ í‰ê°€í•˜ì—¬ ë³´ì•ˆ ì·¨ì•½ì ì„ ì‹ë³„í•˜ê³ , ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ êµ¬ì²´ì ì¸ ë‹¨ê³„ë¥¼ ì œì‹œí•©ë‹ˆë‹¤.

> ì£¼ìš” ê¸°ëŠ¥
> * ë³´ì•ˆ êµ¬ì„± ë° ì •ì±… ê´€ë¦¬: í´ë¼ìš°ë“œ í™˜ê²½(Azure, AWS, GCP ë“±)ì˜ ë³´ì•ˆ ì„¤ì • ë° ì •ì±…ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.> 
> * ë³´ì•ˆ ì·¨ì•½ì  íƒì§€: í´ë¼ìš°ë“œ í™˜ê²½ì˜ ì„¤ì • ì˜¤ë¥˜ ë° ë³´ì•ˆ ì·¨ì•½ì ì„ íƒì§€í•©ë‹ˆë‹¤.
> * ê·œì • ì¤€ìˆ˜ ì§€ì›: GDPR, ISO 27001 ë“± ë‹¤ì–‘í•œ ê·œì • ì¤€ìˆ˜ ìš”êµ¬ ì‚¬í•­ì„ ì¶©ì¡±í•˜ë„ë¡ ì§€ì›í•©ë‹ˆë‹¤.
> * ë©€í‹° í´ë¼ìš°ë“œ ë³´ì•ˆ ê°€ì‹œì„± ì œê³µ: ì—¬ëŸ¬ í´ë¼ìš°ë“œ í™˜ê²½ì—ì„œ ë³´ì•ˆ ìƒíƒœë¥¼ ëª¨ë‹ˆí„°ë§í•˜ê³  í‰ê°€í•©ë‹ˆë‹¤

1. Azure Portalì—ì„œ Microsoft Defender for Cloud ê²€ìƒ‰ í›„ í´ë¦­ (ì´ë²ˆ ë©ì—ëŠ” ì˜¬ë¼ì™€ìˆëŠ” recommendationì´ ì—†ìœ¼ë¯€ë¡œ ì œì™¸í•©ë‹ˆë‹¤.) 
2. **Recommendation** í´ë¦­ í›„ ë¦¬ìŠ¤íŠ¸ì˜ recommendation ì¤‘ í•œê°œ í´ë¦­ 
3. ìƒë‹¨ì— **view recommendation for all resources** í´ë¦­
![image](https://github.com/user-attachments/assets/973a7ebe-3723-4c72-98c4-7fe4cc71b9ba)

4. Affected resourcesì—ì„œ **ì‚¬ìš©ì or ë””ë°”ì´ìŠ¤(ë¦¬ì†ŒìŠ¤)** í´ë¦­ í›„ **Exempt** í´ë¦­
![image](https://github.com/user-attachments/assets/523d67cc-7ec5-4a37-ad20-8cd4c39e10e4)

5. The create **exemption pane** opens:
   *	Exemption name: ACS - recommendation name 
*	**expiration date** ë°•ìŠ¤ í´ë¦­ìœ¼ë¡œ í™œì„±í™” í›„, Date ì„¤ì • 

    - Exemption Category: **Waiver** 
    - Provide a description: **Testing exemption capability â€“ module 1**.
    - **Save** í´ë¦­ìœ¼ë¡œ ì €ì¥ 
<img src="https://github.com/user-attachments/assets/3d90973d-0ab0-42ca-a356-64bbba4e1be5" alt="image" width="500" height="800">

> â­ Tips: <br>
> *  **Mitigated** - ì´ ë¬¸ì œëŠ” ì œì•ˆëœ ë¦¬ì†ŒìŠ¤ì™€ ë‹¤ë¥¸ ë„êµ¬ ë˜ëŠ” í”„ë¡œì„¸ìŠ¤ì—ì„œ ì²˜ë¦¬ë˜ì—ˆìœ¼ë¯€ë¡œ ë¦¬ì†ŒìŠ¤ì™€ ê´€ë ¨ì´ ì—†ìŠµë‹ˆë‹¤.
> * **Waiver** - ì´ ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ìœ„í—˜ì„ ìˆ˜ë½í•©ë‹ˆë‹¤.
> * ì˜ˆì™¸ë¥¼ ì„¤ì •í•˜ë©´ ì´ ì¶”ì²œ ì‚¬í•­ì´ í¬í•¨ëœ ëª¨ë“  ê´€ë¦¬ í‘œì¤€ì— ëŒ€í•´ ì˜ˆì™¸ê°€ ìƒì„±ë©ë‹ˆë‹¤. ì´ëŠ” íŠ¹ì • ì¶”ì²œ ì‚¬í•­ì— ëŒ€í•´ ì˜ˆì™¸ë¥¼ ì„¤ì •í•  ë•Œ, í•´ë‹¹ ì¶”ì²œ ì‚¬í•­ì´ ì ìš©ë˜ëŠ” ëª¨ë“  ê´€ë¦¬ í‘œì¤€ì— ëŒ€í•´ ë™ì¼í•œ ì˜ˆì™¸ê°€ ì ìš©ëœë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, Azure CSPM í‘œì¤€ì— í¬í•¨ëœ ì¶”ì²œ ì‚¬í•­ì— ëŒ€í•´ ì˜ˆì™¸ë¥¼ ì„¤ì •í•˜ë©´, Azure CSPM í‘œì¤€ì˜ ëª¨ë“  ê´€ë ¨ ë¶€ë¶„ì— ëŒ€í•´ ì˜ˆì™¸ê°€ ìƒì„±ë©ë‹ˆë‹¤.

6. ì„¤ì •ì„ ì ìš©ë˜ë ¤ë©´ ìµœëŒ€ 30ë¶„ì´ ì†Œìš”ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì„¤ì • ì´í›„ì—ëŠ” ì•„ë˜ì™€ ê°™ì€ íš¨ê³¼ê°€ ë‚˜íƒ€ë‚©ë‹ˆë‹¤. 
    - í•´ë‹¹ ë¦¬ì†ŒìŠ¤ëŠ” ë³´ì•ˆ ì ìˆ˜ì— ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
    - ë¦¬ì†ŒìŠ¤ê°€ ê¶Œì¥ ì‚¬í•­ ì„¸ë¶€ ì •ë³´ í˜ì´ì§€ì˜ í•´ë‹¹ ì—†ìŒ íƒ­ì— ë‚˜ì—´ë©ë‹ˆë‹¤.
    - ì¶”ì²œ ì„¸ë¶€ì •ë³´ í˜ì´ì§€ ìƒë‹¨ì˜ ì •ë³´ ìŠ¤íŠ¸ë¦½ì— ë©´ì œëœ ë¦¬ì†ŒìŠ¤ ìˆ˜ê°€ ë‚˜ì—´ë©ë‹ˆë‹¤

7. 5ë²ˆ stepê³¼ ë™ì¼í•œ tabìœ¼ë¡œ ì´ë™ í›„ **Not Applicable resources** íƒ­ì„ ì—´ì–´ ë©´ì œëœ ë¦¬ì†ŒìŠ¤ë¥¼ ê²€í† í•©ë‹ˆë‹¤. ë¦¬ì†ŒìŠ¤ë¥¼ ì´ìœ /ì„¤ëª… ê°’ê³¼ í•¨ê»˜ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
8. Azure portalì—ì„œ **policy** ê²€ìƒ‰ í›„ í´ë¦­ > Authoring > Exemptionsë¡œ ì´ë™í•©ë‹ˆë‹¤. ìƒˆë¡œ ìƒì„±í•œ **Exemption**ì´ ë¦¬ìŠ¤íŠ¸ì— í¬í•¨ëœ ê²ƒì„ í™•ì¸í•©ë‹ˆë‹¤.


### ğŸ”— [ë‹¤ìŒ Labìœ¼ë¡œ ì´ë™í•˜ê¸° Â»](https://github.com/Kittiyayaong/ProjectWandooMDC/blob/main/CSPM%20-%20Module02.%20Regulatory%20Compliance.md)
